<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Connection - AI Powered Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <!-- Markdown Parser for AI responses -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        /* Configuraci√≥n de Fuentes y Estilos Personalizados */
        :root {
            --brand-dark: #1e1b4b; /* Indigo muy oscuro */
            --brand-primary: #2e3a8c; /* Azul del logo */
            --brand-light: #60a5fa; /* Azul claro del logo */
            --brand-accent: #93c5fd; /* Cian claro */
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .font-tech {
            font-family: 'Orbitron', sans-serif;
        }

        /* Scrollbar para √°reas de texto */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(30, 41, 59, 0.5); 
        }
        ::-webkit-scrollbar-thumb {
            background: #60a5fa; 
            border-radius: 3px;
        }

        /* Recreaci√≥n del Logo C√∫bico con CSS puro para nitidez */
        .cube-icon {
            width: 40px;
            height: 40px;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(-20deg) rotateY(45deg);
        }
        .face {
            position: absolute;
            width: 40px;
            height: 40px;
            background: rgba(96, 165, 250, 0.2);
            border: 2px solid #2e3a8c;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }
        .face div { border: 1px solid rgba(46, 58, 140, 0.3); }
        .front { transform: translateZ(20px); }
        .back { transform: translateZ(-20px); }
        .right { transform: rotateY(90deg) translateZ(20px); }
        .left { transform: rotateY(-90deg) translateZ(20px); }
        .top { transform: rotateX(90deg) translateZ(20px); }
        .bottom { transform: rotateX(-90deg) translateZ(20px); }

        /* Efecto de Laptop 3D */
        .laptop-mockup {
            perspective: 1000px;
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }
        .laptop-mockup:hover {
            transform: scale(1.02) translateY(-10px);
        }
        .laptop-screen {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
            box-shadow: 0 20px 50px -12px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* Fondo del Arco */
        .arch-bg {
            background-color: #0f1014; /* Casi negro, como el original */
            border-top-left-radius: 999px;
            border-top-right-radius: 999px;
            background-image: 
                radial-gradient(circle at 50% 30%, rgba(46, 58, 140, 0.4) 0%, transparent 60%),
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.03) 10px, rgba(255,255,255,0.03) 11px);
        }

        /* Estilos de Tarjeta Cristal ("About Us" / "AI Terminal") */
        .glass-card {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        /* Animaci√≥n suave para elementos */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        .floating { animation: float 6s ease-in-out infinite; }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 10px #60a5fa, 0 0 20px #2e3a8c; }
            50% { box-shadow: 0 0 20px #60a5fa, 0 0 40px #2e3a8c; }
        }
        .pulse-active { animation: pulse-glow 2s infinite; }

        /* Patr√≥n de puntos para la est√©tica "Neural" */
        .dot-pattern {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        /* Typing cursor effect */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="p-4 md:p-8 relative">

    <!-- Chat Overlay Button -->
    <div class="fixed bottom-6 right-6 z-50">
        <button id="chatToggleBtn" class="bg-[#2e3a8c] hover:bg-[#1e1b4b] text-white p-4 rounded-full shadow-lg transition-all transform hover:scale-110 flex items-center gap-2 group border border-[#60a5fa]">
            <span class="text-xl">ü§ñ</span>
            <span class="max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-500 whitespace-nowrap font-tech text-sm">Asistente Neural</span>
        </button>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="fixed bottom-24 right-6 w-80 md:w-96 bg-[#0f172a] border border-[#60a5fa] rounded-xl shadow-2xl z-50 hidden flex-col overflow-hidden transform transition-all origin-bottom-right scale-95 opacity-0">
        <div class="bg-[#1e1b4b] p-3 border-b border-[#60a5fa] flex justify-between items-center">
            <h3 class="text-white font-tech text-sm">‚ú® Neural Assistant</h3>
            <button id="closeChat" class="text-gray-400 hover:text-white">&times;</button>
        </div>
        <div id="chatHistory" class="flex-1 h-64 overflow-y-auto p-4 space-y-3 text-sm text-gray-200 bg-[#0f1014]/50">
            <div class="bg-[#2e3a8c]/50 p-2 rounded-lg rounded-tl-none self-start max-w-[80%] border border-[#60a5fa]/30">
                ¬°Hola! Soy la IA de Neural Connection. ¬øEn qu√© puedo ayudarte hoy?
            </div>
        </div>
        <div class="p-3 bg-[#1e1b4b] flex gap-2">
            <input type="text" id="chatInput" placeholder="Pregunta algo..." class="flex-1 bg-[#0f1014] border border-[#60a5fa]/50 rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-[#60a5fa]">
            <button id="sendChat" class="bg-[#60a5fa] text-[#0f172a] px-3 py-1 rounded font-bold hover:bg-white transition-colors">‚ûû</button>
        </div>
    </div>

    <!-- Contenedor Principal (El "Canvas") -->
    <div class="bg-white w-full max-w-[1200px] relative overflow-hidden shadow-2xl rounded-sm dot-pattern flex flex-col justify-between min-h-[800px]">
        
        <!-- Header: Logo -->
        <header class="p-8 md:p-12 pb-0 flex items-center gap-4 z-10">
            <!-- Icono CSS del Logo -->
            <div class="cube-icon">
                <div class="face front"><div></div><div></div><div></div><div></div></div>
                <div class="face back"><div></div><div></div><div></div><div></div></div>
                <div class="face right"><div></div><div></div><div></div><div></div></div>
                <div class="face left"><div></div><div></div><div></div><div></div></div>
                <div class="face top"><div></div><div></div><div></div><div></div></div>
                <div class="face bottom"><div></div><div></div><div></div><div></div></div>
            </div>
            <!-- Texto del Logo -->
            <div class="flex flex-col leading-none">
                <span class="font-tech font-bold text-2xl md:text-3xl text-[#1e1b4b] tracking-wider">NEURAL</span>
                <span class="font-tech font-light text-xl md:text-2xl text-[#60a5fa] tracking-[0.2em]">CONNECTION</span>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="flex-1 relative z-10 flex flex-col md:flex-row">
            
            <!-- Columna Izquierda: Texto y CTA -->
            <div class="w-full md:w-1/2 p-8 md:p-12 pt-4 flex flex-col justify-center gap-6 relative">
                
                <!-- Headline -->
                <div class="relative z-20">
                    <h1 class="font-tech font-black text-5xl md:text-6xl lg:text-7xl text-slate-900 leading-[0.9]">
                        ¬øBUSCAS<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#2e3a8c] to-[#60a5fa]">FUTURO?</span>
                    </h1>
                    <p class="mt-4 text-slate-600 font-medium text-lg max-w-sm">
                        La IA est√° reescribiendo la realidad. ¬øEst√° tu negocio listo para la pr√≥xima dimensi√≥n?
                    </p>
                </div>

                <!-- Neural Terminal (Interactive AI Feature) -->
                <div class="glass-card text-white p-6 rounded-2xl max-w-lg w-full relative mt-4 md:ml-4 border border-[#60a5fa]/30">
                    <!-- Etiqueta Flotante -->
                    <div class="absolute -top-4 left-6 bg-gradient-to-r from-[#60a5fa] to-[#3b82f6] px-6 py-1.5 rounded-full shadow-lg z-20">
                        <span class="font-bold text-sm tracking-wide flex items-center gap-2">‚ú® Generador de Visiones ‚ú®</span>
                    </div>

                    <div class="mt-4 space-y-4">
                        <p class="text-sm font-light text-gray-300">Ingresa tu negocio actual y deja que nuestra IA proyecte su evoluci√≥n en el a√±o 2150.</p>
                        
                        <div class="relative">
                            <input type="text" id="visionInput" placeholder="Ej: Vendo caf√© artesanal..." 
                                class="w-full bg-[#0f172a]/80 border border-[#60a5fa]/50 rounded-lg p-3 text-sm text-white focus:outline-none focus:border-[#60a5fa] focus:ring-1 focus:ring-[#60a5fa] placeholder-gray-500 transition-all">
                        </div>

                        <button id="generateBtn" class="w-full bg-gradient-to-r from-[#2e3a8c] to-[#1e1b4b] hover:from-[#60a5fa] hover:to-[#2e3a8c] text-white font-tech font-bold py-2 rounded-lg border border-[#60a5fa]/50 transition-all shadow-[0_0_15px_rgba(96,165,250,0.3)] flex justify-center items-center gap-2">
                            <span>‚ú® PROYECTAR FUTURO ‚ú®</span>
                        </button>

                        <!-- Output Area -->
                        <div id="visionOutput" class="hidden bg-black/40 rounded-lg p-3 border-l-2 border-[#60a5fa] min-h-[80px]">
                            <p class="text-xs text-[#60a5fa] font-mono mb-1">> SYSTEM.RESPONSE_RECEIVED:</p>
                            <p id="visionText" class="text-sm italic text-gray-200 font-light typing-cursor"></p>
                        </div>
                    </div>
                </div>

                <!-- Social Proof -->
                <div class="mt-6 inline-flex items-center bg-white border border-slate-200 rounded-full px-6 py-2 shadow-sm w-fit z-20">
                    <div class="w-2 h-2 rounded-full bg-green-500 mr-2 animate-pulse"></div>
                    <div class="text-xs md:text-sm font-semibold text-slate-700">
                        AI SYSTEM: <span class="text-[#2e3a8c]">ONLINE</span>
                    </div>
                </div>

            </div>

            <!-- Columna Derecha: Gr√°ficos (Arco + Laptop) -->
            <div class="w-full md:w-1/2 relative h-[400px] md:h-auto overflow-visible flex items-end justify-center md:justify-end pr-0 md:pr-12 pb-12">
                
                <!-- El Arco Negro del Fondo -->
                <div class="arch-bg absolute bottom-0 right-0 md:right-[10%] w-[90%] md:w-[80%] h-[110%] md:h-[120%] z-0"></div>

                <!-- Laptop Mockup (Superpuesto) -->
                <div class="laptop-mockup relative z-10 w-[90%] max-w-[500px] mb-8 md:mb-16 md:mr-16 floating">
                    <!-- Pantalla -->
                    <div class="bg-gray-800 rounded-t-xl p-[2%] pb-0 shadow-2xl w-full aspect-[16/10] relative mx-auto">
                         <!-- Borde de pantalla -->
                        <div class="bg-black w-full h-full rounded-t-lg overflow-hidden relative">
                            <!-- Contenido de Pantalla -->
                            <div class="laptop-screen w-full h-full relative overflow-hidden flex flex-col">
                                <!-- Navbar Falso -->
                                <div class="h-6 bg-black/50 flex items-center px-4 gap-2 border-b border-white/10">
                                    <div class="w-2 h-2 rounded-full bg-red-500"></div>
                                    <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
                                    <div class="w-2 h-2 rounded-full bg-green-500"></div>
                                </div>
                                <!-- Dise√±o Futurista en pantalla -->
                                <div class="flex-1 relative flex items-center justify-center bg-black">
                                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"></div>
                                    
                                    <!-- Animated Graph Lines -->
                                    <svg viewBox="0 0 200 100" class="absolute w-full h-full opacity-60">
                                        <path d="M0,80 Q50,20 100,50 T200,30" fill="none" stroke="#60a5fa" stroke-width="0.5">
                                            <animate attributeName="d" 
                                                dur="5s" 
                                                repeatCount="indefinite"
                                                values="M0,80 Q50,20 100,50 T200,30;
                                                        M0,80 Q50,60 100,40 T200,70;
                                                        M0,80 Q50,20 100,50 T200,30" />
                                        </path>
                                    </svg>

                                    <div class="relative z-10 flex flex-col items-center">
                                        <div class="w-20 h-20 rounded-full border-2 border-[#60a5fa] border-t-transparent animate-spin mb-4"></div>
                                        <div class="text-[#60a5fa] font-tech text-xs tracking-widest animate-pulse">PROCESSING DATA...</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Base del Laptop -->
                    <div class="bg-gray-300 w-[120%] -ml-[10%] h-4 rounded-b-xl shadow-xl relative">
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-16 h-1 bg-gray-400 rounded-b-md"></div>
                    </div>
                </div>

            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-[#18181b] p-4 md:px-12 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 z-20 text-white relative">
            <div class="flex items-center gap-4">
                <button class="bg-white text-black font-bold px-6 py-2 rounded uppercase text-sm tracking-wider hover:bg-gray-200 transition">
                    Cont√°ctanos
                </button>
            </div>
            
            <div class="flex flex-col md:flex-row items-center gap-4 md:gap-8 font-mono text-sm text-gray-400">
                <div class="flex items-center gap-2">
                    <span>‚ö° Powered by Gemini API</span>
                </div>
                <div class="flex items-center gap-2">
                    <span>neuralconnection.ai</span>
                </div>
            </div>
        </footer>

    </div>

    <!-- Script para integraci√≥n con Gemini -->
    <script type="module">
        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        // CONFIGURACI√ìN API (Inyectada por el entorno)
        const apiKey = ""; // Set by runtime environment
        const genAI = new GoogleGenerativeAI(apiKey);
        const model = genAI.getGenerativeModel({ model: "gemini-2.5-flash-preview-09-2025" });

        // --- FEATURE 1: VISI√ìN FUTURA ---
        const generateBtn = document.getElementById('generateBtn');
        const visionInput = document.getElementById('visionInput');
        const visionOutput = document.getElementById('visionOutput');
        const visionText = document.getElementById('visionText');

        generateBtn.addEventListener('click', async () => {
            const userBusiness = visionInput.value.trim();
            if (!userBusiness) return;

            // UI Loading State
            generateBtn.disabled = true;
            generateBtn.innerHTML = '<span class="animate-spin">‚Üª</span> PROCESANDO...';
            visionOutput.classList.remove('hidden');
            visionText.innerHTML = "Inicializando simulaci√≥n neural...";

            try {
                const prompt = `
                    Act√∫a como un futurista visionario cyberpunk. El usuario tiene el siguiente negocio o idea: "${userBusiness}".
                    Describe c√≥mo habr√° evolucionado este negocio en el a√±o 2150 en una utop√≠a tecnol√≥gica.
                    Usa lenguaje sofisticado, t√©rminos como "cu√°ntico", "neural", "holo-interfaz", "sint√©tico".
                    Mant√©n la respuesta corta (m√°ximo 40 palabras) e impactante. Usa emojis futuristas.
                    Responde en Espa√±ol.
                `;

                const result = await model.generateContent(prompt);
                const response = await result.response;
                const text = response.text();

                // Efecto de mecanograf√≠a simple
                visionText.innerHTML = marked.parse(text);
                
            } catch (error) {
                console.error("Error:", error);
                visionText.innerHTML = "Error de conexi√≥n neural. Intente nuevamente.";
            } finally {
                generateBtn.disabled = false;
                generateBtn.innerHTML = '<span>‚ú® PROYECTAR FUTURO ‚ú®</span>';
            }
        });

        // --- FEATURE 2: CHATBOT ASISTENTE ---
        const chatToggleBtn = document.getElementById('chatToggleBtn');
        const chatModal = document.getElementById('chatModal');
        const closeChat = document.getElementById('closeChat');
        const sendChat = document.getElementById('sendChat');
        const chatInput = document.getElementById('chatInput');
        const chatHistory = document.getElementById('chatHistory');

        // Toggle UI
        chatToggleBtn.addEventListener('click', () => {
            chatModal.classList.toggle('hidden');
            chatModal.classList.toggle('opacity-0');
            chatModal.classList.toggle('scale-95');
            
            if(!chatModal.classList.contains('hidden')) {
                chatInput.focus();
            }
        });
        
        closeChat.addEventListener('click', () => {
            chatModal.classList.add('hidden');
            chatModal.classList.add('opacity-0');
            chatModal.classList.add('scale-95');
        });

        // Chat Logic
        async function handleChat() {
            const msg = chatInput.value.trim();
            if(!msg) return;

            // Add user message
            addMessage(msg, 'user');
            chatInput.value = '';
            
            // Add loading placeholder
            const loadingId = addMessage('...', 'bot', true);

            try {
                const prompt = `
                    Eres "NeuralBot", el asistente de la agencia digital "Neural Connection".
                    Somos expertos en dise√±o web futurista, desarrollo de apps y transformaci√≥n digital con IA.
                    Responde de forma breve, amable y profesional al usuario.
                    Usuario dice: "${msg}"
                `;

                const result = await model.generateContent(prompt);
                const response = await result.response;
                const text = response.text();

                // Remove loading and add real message
                document.getElementById(loadingId).remove();
                addMessage(text, 'bot');

            } catch (error) {
                document.getElementById(loadingId).remove();
                addMessage("Lo siento, mis circuitos est√°n ocupados.", 'bot');
            }
        }

        sendChat.addEventListener('click', handleChat);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleChat();
        });

        function addMessage(text, sender, isLoading = false) {
            const div = document.createElement('div');
            const id = 'msg-' + Date.now();
            div.id = id;
            
            const isUser = sender === 'user';
            
            div.className = `p-2 rounded-lg max-w-[80%] text-sm ${
                isUser 
                ? 'bg-white text-[#1e1b4b] self-end rounded-tr-none ml-auto' 
                : 'bg-[#2e3a8c]/50 text-gray-200 self-start rounded-tl-none border border-[#60a5fa]/30'
            }`;
            
            div.innerHTML = isLoading ? '<span class="animate-pulse">‚óè ‚óè ‚óè</span>' : marked.parse(text);
            chatHistory.appendChild(div);
            chatHistory.scrollTop = chatHistory.scrollHeight;
            return id;
        }

    </script>
</body>
</html>